{% load static %}
{% load i18n %}
<!-- Header section -->
<header id="header">
  <div class="logo-section">
    <a class="logo" href="#home">
      <img src="{% static 'Mirshod.png' %}" alt="W" width="50" height="50">
      <span class="logo-text"></span>
    </a>
  </div>
  
  <nav class="nav-desktop">
    <a class="nav-item active" href="#home">{% trans "Home" %}</a>
    <a class="nav-item" href="#about">{% trans "About" %}</a>
    <a class="nav-item" href="#experience">{% trans "Experience" %}</a>
    <a class="nav-item" href="#skills">{% trans "Skills" %}</a>
    <a class="nav-item" href="#achievements">{% trans "Achievements" %}</a>
    <a class="nav-item" href="#certificate">{% trans "Certificate" %}</a>
    <a class="nav-item" href="#projects">{% trans "Projects" %}</a>
    <a class="nav-item" href="#contact">{% trans "Contact" %}</a>
    <a class="nav-item" href="https://github.com/W-Mirshod" target="_blank">GitHub</a>
  </nav>

  <!-- Compact Language Switcher - Desktop -->
  <div class="header-actions">
    <div class="language-switcher compact-switcher">
      <button class="language-btn compact-btn" id="languageBtn" aria-haspopup="true" aria-expanded="false">
        <span class="current-lang">
          {% get_current_language as CURRENT_LANGUAGE %}
          {% if CURRENT_LANGUAGE == 'en' %}EN
          {% elif CURRENT_LANGUAGE == 'uz' %}UZ  
          {% elif CURRENT_LANGUAGE == 'ru' %}RU
          {% else %}{{ CURRENT_LANGUAGE|upper }}{% endif %}
        </span>
        <i class="fas fa-chevron-down compact-arrow"></i>
      </button>
      <div class="language-options compact-options" id="languageOptions">
        {% get_available_languages as LANGUAGES %}
        {% for language_code, language_name in LANGUAGES %}
          <form method="post" action="{% url 'set_language' %}" class="language-form">
            {% csrf_token %}
            <input name="next" type="hidden" value="{{ request.get_full_path|slice:'3:' }}" />
            <input name="language" type="hidden" value="{{ language_code }}" />
            <button type="submit" class="language-option compact-option {% if language_code == CURRENT_LANGUAGE %}active{% endif %}">
              <span class="lang-code">
                {% if language_code == 'en' %}EN
                {% elif language_code == 'uz' %}UZ
                {% elif language_code == 'ru' %}RU
                {% else %}{{ language_code|upper }}{% endif %}
              </span>
              <span class="lang-name">
                {% if language_code == 'en' %}English
                {% elif language_code == 'uz' %}O'zbekcha
                {% elif language_code == 'ru' %}Русский
                {% else %}{{ language_name }}{% endif %}
              </span>
            </button>
          </form>
        {% endfor %}
      </div>
    </div>
  </div>

  <div class="menu-toggle" role="button" tabindex="0" aria-expanded="false" aria-controls="mobileNavMenu" aria-label="Toggle navigation menu">
    <span></span>
    <span></span>
    <span></span>
  </div>
</header>

<!-- Mobile Navigation -->
<nav class="nav-mobile" id="mobileNavMenu">
  <a class="nav-item" href="#home">{% trans "Home" %}</a>
  <a class="nav-item" href="#about">{% trans "About" %}</a>
  <a class="nav-item" href="#experience">{% trans "Experience" %}</a>
  <a class="nav-item" href="#skills">{% trans "Skills" %}</a>
  <a class="nav-item" href="#achievements">{% trans "Achievements" %}</a>
  <a class="nav-item" href="#certificate">{% trans "Certificate" %}</a>
  <a class="nav-item" href="#projects">{% trans "Projects" %}</a>
  <a class="nav-item" href="#contact">{% trans "Contact" %}</a>
  <a class="nav-item" href="https://github.com/W-Mirshod" target="_blank">GitHub</a>
</nav>

<!-- Include Header JavaScript -->
<script src="{% static 'js/sections/header.js' %}"></script>
